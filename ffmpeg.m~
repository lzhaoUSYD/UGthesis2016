% ffmpeg

command1 = [	'-i Rattay1999Eqn4subplots3by1MP.avi -i Rattay1999Eqn4subplots3by1BP.avi -i Rattay1999Eqn4subplots3by1BP+2.avi -i Rattay1999Eqn4subplots3by1TP.avi',...
	'-filter_complex "',...
		'nullsrc=size=640x480 [base];',...
		'[0:v] setpts=PTS-STARTPTS, scale=320x240 [upperleft];',...
		'[1:v] setpts=PTS-STARTPTS, scale=320x240 [upperright];',...
		'[2:v] setpts=PTS-STARTPTS, scale=320x240 [lowerleft];',...
		'[3:v] setpts=PTS-STARTPTS, scale=320x240 [lowerright];',...
		'[base][upperleft] overlay=shortest=1 [tmp1];',...
		'[tmp1][upperright] overlay=shortest=1:x=320 [tmp2];',...
		'[tmp2][lowerleft] overlay=shortest=1:y=240 [tmp3];',...
		'[tmp3][lowerright] overlay=shortest=1:x=320:y=240',...
	'"',...
	'-c:v libx264 Rattay1999Eqn4subplots3by1MPBPBP+1TP.mkv'];

commandTemplate = 'ffmpeg -i 1.avi -i 2.avi -i 3.avi -i 4.avi -filter_complex "nullsrc=size=640x480 [base]; [0:v] setpts=PTS-STARTPTS, scale=320x240 [upperleft]; [1:v] setpts=PTS-STARTPTS, scale=320x240 [upperright]; [2:v] setpts=PTS-STARTPTS, scale=320x240 [lowerleft]; [3:v] setpts=PTS-STARTPTS, scale=320x240 [lowerright]; [base][upperleft] overlay=shortest=1 [tmp1]; [tmp1][upperright] overlay=shortest=1:x=320 [tmp2]; [tmp2][lowerleft] overlay=shortest=1:y=240 [tmp3]; [tmp3][lowerright] overlay=shortest=1:x=320:y=240" -c:v libx264 output.mkv';

myCommand = regexprep(commandTemplate,...
    {'1\.avi','2.avi','3.avi','4.avi'},...
    {'Rattay1999Eqn4subplots3by1MP.avi',...
    'Rattay1999Eqn4subplots3by1BP.avi',...
    'Rattay1999Eqn4subplots3by1TP.avi',...
    'Rattay1999Eqn4subplots3by1MP.avi'});
    